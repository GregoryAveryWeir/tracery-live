"use strict"
define("tracery-live/app",["exports","tracery-live/resolver","ember-load-initializers","tracery-live/config/environment"],function(e,t,r,i){Object.defineProperty(e,"__esModule",{value:!0})
var n=Ember.Application.extend({modulePrefix:i.default.modulePrefix,podModulePrefix:i.default.podModulePrefix,Resolver:t.default});(0,r.default)(n,i.default.modulePrefix),e.default=n}),define("tracery-live/application/controller",["exports","tracery-grammar","ember-data"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({queryParams:["json"],json:null,version:0,editing:!1,errored:!1,dirty:!1,resetDisabled:Ember.computed.not("dirty"),tweetDisabled:Ember.computed("twitterURL.{isFulfilled,content}",function(){return!(this.twitterURL&&this.twitterURL.isFulfilled&&this.twitterURL.content)}),decompress:Ember.inject.service(),grammar:Ember.computed("model",function(){try{var e=t.default.createGrammar(JSON.parse(this.model))
return e.addModifiers(t.default.baseEngModifiers),e}catch(e){return t.default.createGrammar({origin:"Error in grammar: "+e.message})}}),output:Ember.computed("model","version",function(){return this.grammar.flatten("#origin#")}),compressed:Ember.computed("model",function(){var e=this
return r.default.PromiseObject.create({promise:new Ember.RSVP.Promise(function(t,r){try{JSON.parse(e.model),e.decompress.stringToZip(e.model,function(e){t(e)})}catch(e){r(e)}})})}),twitterURL:Ember.computed("model","compressed",function(){var e=this
return r.default.PromiseObject.create({promise:new Ember.RSVP.Promise(function(t){return e.compressed.then(function(e){t("https://twitter.com/intent/tweet?text=Check%20out%20this%20Tracery%20grammar%20on%20Tracery%20Live:&hashtags=tracery&related=galaxykate%3ACreator%20of%20Tracery,gregoryweir%3ACreator%20of%20Tracery%20Live&url="+encodeURIComponent(location.protocol+"//"+location.hostname+location.pathname+"?json="+e))})})})}),actions:{discardChanges:function(){window.location.reload()},edit:function(){this.toggleProperty("editing")},jsonError:function(){this.set("errored",!0)},saveToURL:function(){var e=this
this.model&&this.compressed.then(function(t){e.set("json",t),e.set("dirty",!1)},function(e){window.alert("Can't save! Error in grammar: "+e.message)})},setJSON:function(e){this.set("model",JSON.stringify(e)),this.set("errored",!1),this.set("dirty",!0)},shuffle:function(){this.incrementProperty("version")}}})}),define("tracery-live/application/route",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({decompress:Ember.inject.service(),model:function(e){var t=this
return e.json?new Ember.RSVP.Promise(function(r){t.decompress.zipToString(e.json,function(e){r(e)})}):JSON.stringify({origin:["<h1>Tracery Live</h1>#credits# <p>#intro#</p> <p>#instruction#</p> <p>#more info#</p>"],credits:['<p>#selfdeprecatingverb# <a href="http://ludusnovus.net/">Gregory Avery-Weir</a> #thanks to# <a href="http://www.galaxykate.com/">GalaxyKate</a>\'s <a href="http://tracery.io">Tracery</a>.</p>'],selfdeprecatingverb:["Created by","Envisioned by","Hacked together by","Copy-pasted by","Emerged, fully-formed, from the brow of","Could arguably be credited to","Packaged by"],"thanks to":["with thanks to","in honor of","based on work by","as a blatant ripoff of","but impossible without the work of","as tribute to","in support of","using"],intro:["#This# lets you #create# #procedural# #works# using #grammars# and #share them# #with their urls#. Try hitting the Shuffle button to see what I mean."],This:["This","Tracery Live","This site","This site","This site","This site","This site","This site","This site","This microsite","This thing","This tool","This page","This toy","This service","This whirring assembly of sparks and wires","This travesty","This abomination","This delight","This goddess-send","This miracle","This horror","Whatever this thing is"],create:["write","create","compose","assemble","#sillycreate#"],sillycreate:["generate","ideate","hack together","give birth to"],procedural:["procedural","generative","random","ever-changing"],works:["works","stories","poems","cyberpoems","works of art","text pieces"],grammars:["grammars","some JSON","a bunch of incomprehensible code","a special language","just a few characters","the sort of code you can see here","L-systems","fractals (sort of)"],"share them":["share them","show them to others","give them as gifts","show them off","distribute them throughout the world","spread them across the internet"],"with their urls":["with their URLs","with only their web addresses","using the query parameters","by copying and pasting from the address bar"],instruction:'To see how this text is constructed, click the Edit button. You can use <b>HTML</b>, images, Font Awesome classes <i class="fa fa-fire"></i>, emoji ðŸ¤˜, and other stuff!',"more info":'For more information on Tracery and what you can do with it, visit <a href="http://tracery.io">tracery.io</a>.'})}})}),define("tracery-live/application/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"piRrbw+k",block:'{"symbols":[],"statements":[[7,"div"],[11,"class","sticky-footer wrapper"],[9],[0,"\\n"],[7,"div"],[11,"class","container"],[9],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[27,"sanitize",[[23,["output"]]],null],false],[0,"\\n  "],[10],[0,"\\n\\n  "],[7,"div"],[12,"class",[27,"if",[[23,["editing"]],"","hidden"],null]],[9],[0,"\\n    "],[7,"p"],[9],[0,"\\n        "],[1,[27,"tracery-json-editor",null,[["json","onChange","mode","modes","onError","onBadChange"],[[23,["model"]],[27,"action",[[22,0,[]],"setJSON"],null],"code",null,[27,"action",[[22,0,[]],"jsonError"],null],[27,"action",[[22,0,[]],"jsonError"],null]]]],false],[0,"\\n    "],[10],[0,"\\n\\n    "],[7,"p"],[9],[7,"small"],[9],[0,"Some HTML tags and styles are allowed. Because #hex colors mess with Tracery syntax, use rgb() colors."],[10],[10],[0,"\\n\\n    "],[7,"p"],[11,"class","actions"],[9],[0,"\\n      "],[7,"button"],[12,"disabled",[21,"errored"]],[3,"action",[[22,0,[]],"saveToURL"]],[9],[0,"Save to URL "],[7,"i"],[11,"class","fa fa-save"],[9],[10],[10],[0,"\\n      "],[7,"button"],[12,"disabled",[21,"resetDisabled"]],[3,"action",[[22,0,[]],"discardChanges"]],[9],[0,"Discard Changes "],[7,"i"],[11,"class","fa fa-trash"],[9],[10],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"],[7,"footer"],[9],[0,"\\n  "],[7,"p"],[11,"class","actions"],[9],[0,"\\n    "],[7,"button"],[3,"action",[[22,0,[]],"shuffle"]],[9],[0,"Shuffle "],[7,"i"],[11,"class","fa fa-random"],[9],[10],[10],[0,"\\n    "],[7,"button"],[3,"action",[[22,0,[]],"edit"]],[9],[1,[27,"if",[[23,["editing"]],"Close Editor","Edit"],null],false],[0," "],[7,"i"],[11,"class","fa fa-edit"],[9],[10],[10],[0,"\\n    "],[7,"a"],[12,"disabled",[21,"tweetDisabled"]],[12,"class",[28,["btn ",[27,"if",[[23,["tweetDisabled"]],"btn-disabled"],null]]]],[11,"target","_blank"],[12,"href",[28,[[23,["twitterURL","content"]]]]],[9],[0,"\\n      Tweet This Grammar "],[7,"i"],[11,"class","fa fa-twitter"],[9],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[11,"class","footer-text"],[9],[0,"\\n    "],[7,"a"],[11,"href","http://tracery.io"],[9],[0,"Tracery"],[10],[0," was created by "],[7,"a"],[11,"href","http://www.galaxykate.com/"],[9],[0,"GalaxyKate"],[10],[0,". Compressed URL inspired by "],[7,"a"],[11,"href","https://itty.bitty.site/"],[9],[0,"itty.bitty.site"],[10],[0," by "],[7,"a"],[11,"href","https://github.com/alcor"],[9],[0,"Nicholas Jitkoff"],[10],[0,".\\n  "],[10],[0,"\\n  "],[7,"p"],[11,"class","footer-text"],[9],[0,"\\n    Tracery Live was created by "],[7,"a"],[11,"href","http://ludusnovus.net/"],[9],[0,"Gregory Avery-Weir"],[10],[0,". "],[7,"a"],[11,"href","https://github.com/GregoryAveryWeir/tracery-live"],[9],[0,"Check out the source on GitHub."],[10],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"],[10]],"hasEval":false}',meta:{moduleName:"tracery-live/application/template.hbs"}})}),define("tracery-live/components/json-editor",["exports","ember-cli-jsoneditor/components/json-editor"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("tracery-live/components/sanitize-html",["exports","ember-cli-sanitize-html/components/sanitize-html"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("tracery-live/components/tracery-json-editor/component",["exports","ember-cli-jsoneditor/components/json-editor"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({onBadChange:null,getOptions:function(){var e=this,t=this._super.apply(this,arguments)
return t.onChange=function(){e._isTyping=!0
var t=e.get("editor")
try{e.get("onChange")(t.get())}catch(r){Ember.isEmpty(t.getText())?e.get("onChange")({}):e.get("onBadChange")(r)}e._isTyping=!1},t}})}),define("tracery-live/components/tracery-json-editor/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"dwpix8fM",block:'{"symbols":["&default"],"statements":[[14,1]],"hasEval":false}',meta:{moduleName:"tracery-live/components/tracery-json-editor/template.hbs"}})}),define("tracery-live/helpers/app-version",["exports","tracery-live/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,r){function i(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.default.APP.version,a=i.versionOnly||i.hideSha,o=i.shaOnly||i.hideVersion,s=null
return a&&(i.showExtended&&(s=n.match(r.versionExtendedRegExp)),s||(s=n.match(r.versionRegExp))),o&&(s=n.match(r.shaRegExp)),s?s[0]:n}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=i,e.default=Ember.Helper.helper(i)}),define("tracery-live/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("tracery-live/helpers/sanitize",["exports","ember-cli-sanitize-html"],function(e,t){function r(e){return Ember.String.htmlSafe((0,t.default)(e[0],{allowedTags:t.default.defaults.allowedTags.concat(["h1","h2","img","span"]),transformTags:{a:t.default.simpleTransform("a",{rel:"nofollow"})},allowedAttributes:{"*":["style","class"],a:["href","name","target"],img:["src"]},allowedStyles:{"*":{color:[/^#(0x)?[0-9a-f]+$/i,/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/],"text-align":[/^left$/,/^right$/,/^center$/],"font-size":[/^\d+(?:px|em|%)$/]},p:{"font-size":[/^\d+rem$/]}}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=r,e.default=Ember.Helper.helper(r)}),define("tracery-live/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("tracery-live/index",["exports","ember-cli-sanitize-html"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("tracery-live/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","tracery-live/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0})
var i=void 0,n=void 0
r.default.APP&&(i=r.default.APP.name,n=r.default.APP.version),e.default={name:"App Version",initialize:(0,t.default)(i,n)}}),define("tracery-live/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("tracery-live/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("tracery-live/initializers/export-application-global",["exports","tracery-live/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var r
if("undefined"!=typeof window)r=window
else if("undefined"!=typeof global)r=global
else{if("undefined"==typeof self)return
r=self}var i,n=t.default.exportApplicationGlobal
i="string"==typeof n?n:Ember.String.classify(t.default.modulePrefix),r[i]||(r[i]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[i]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("tracery-live/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("tracery-live/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("tracery-live/router",["exports","tracery-live/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL})
r.map(function(){}),e.default=r}),define("tracery-live/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("tracery-live/services/decompress",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0})
e.default=Ember.Service.extend({compressDataURI:function(e,t){var r=e.indexOf(";base64,"),i=e.substring(r+";base64,".length)
this.stringToZip(this.base64ToByteArray(i),function(i){t(e.substring(0,r)+";bxze64,"+i)})},base64ToByteArray:function(e){for(var t=window.atob(e),r=t.length,i=new Uint8Array(new ArrayBuffer(r)),n=0;n<r;n++)i[n]=t.charCodeAt(n)
return i},stringToZip:function(e,t){LZMA.compress(e,9,function(e){var r=btoa(String.fromCharCode.apply(null,new Uint8Array(e)))
return t(r)})},decompressDataURI:function(e,t,r){var i=e.indexOf(";bxze64,")
if(i>0){var n=e.substring(i+";bxze64,".length)
this.zipToString(n,function(n){this.stringToData(n,function(n){if(!n)return r(void 0)
r(e.substring(0,i)+";base64,"+(t||"")+n.split(",")[1])})})}else r(e)},zipToString:function(e,t){var r=this.base64ToByteArray(e)
LZMA.decompress(r,function(e){"string"!=typeof e&&(e=new Uint8Array(e)),t(e)})},stringToData:function(e,t){if(!e.length)return t("")
var r=new FileReader
r.onload=function(e){t(e.target.result.replace())},r.readAsDataURL(new Blob([e],{encoding:"UTF-8",type:"text/html;charset=UTF-8"}))},dataToString:function(e,t){var r=this.dataURItoBlob(e),i=new FileReader
i.onload=function(){t(i.result)},i.readAsText(r)},dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),n=new Uint8Array(i),a=0;a<t.length;a++)n[a]=t.charCodeAt(a)
var o=new DataView(i)
return new Blob([o.buffer],{type:r})}})}),define("tracery-live/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"CGEy1JSS",block:'{"symbols":[],"statements":[[1,[21,"welcome-page"],false],[0,"\\n"],[0,"\\n"],[1,[21,"outlet"],false]],"hasEval":false}',meta:{moduleName:"tracery-live/templates/application.hbs"}})}),define("tracery-live/config/environment",[],function(){try{var e="tracery-live/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(unescape(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(t){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("tracery-live/app").default.create({name:"tracery-live",version:"0.0.0+a14b4e24"})
